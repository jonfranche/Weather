(()=>{"use strict";const e=()=>({getWeather:async function(e){try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=66d4b6288d87d0f8fe671b63d5ffa59d`,{mode:"cors"});return await t.json()}catch{console.log("unable to get weather info for your location")}},convertTemp:function(e){return t?(e=1.8*(e-273.15)+32,console.log(parseInt(e,10)+" ℉"),parseInt(e,10)+" ℉"):(e-=273.15,console.log(parseInt(e,10)+" ℃"),parseInt(e,10)+" ℃")},switchDegrees:function(){t?(console.log("false"),t=!1):(console.log("true"),t=!0)},getDate:function(e){return new Date(e*=1e3).toLocaleString("en-US",{timeZoneName:"short"})},getBackground:function(e){switch(console.log(e),e){case"Clear":return"clear";case"Clouds":return"clouds";case"Rain":return"rain";case"Snow":return"snow";case"Thunderstorm":return"thunder";case"Drizzle":return"rain";case"Fog":return"fog";case"Mist":return"mist";case"Haze":return"haze";default:return"none"}}});let t=!0;(()=>{const t=document.querySelector("body"),n={header:document.createElement("header"),main:document.createElement("div")};n.main.setAttribute("id","main");for(let e in n)t.appendChild(n[e]);const o=n.header,a={logoDiv:document.createElement("div"),searchDiv:document.createElement("div"),degreesToggle:document.createElement("div")};for(let e in a)a[e].setAttribute("id",`${e}`),o.appendChild(a[e]);const r=document.createElement("span");a.logoDiv.appendChild(r),r.textContent="Weather API Demo";const c=document.createElement("input");a.searchDiv.appendChild(c),c.setAttribute("type","text"),c.setAttribute("placeholder","Enter City, State, or ZIP");const i=document.createElement("button");a.searchDiv.appendChild(i),i.textContent="Search";const s=document.createElement("div");s.setAttribute("id","toggleDiv"),a.degreesToggle.appendChild(s);const d=document.createElement("span");d.textContent="℉",s.appendChild(d);const l=document.createElement("label");l.setAttribute("class","switch"),s.appendChild(l);const m=document.createElement("input");m.setAttribute("type","checkbox"),l.appendChild(m);const u=document.createElement("span");u.setAttribute("class","slider"),l.appendChild(u);const p=document.createElement("span");p.textContent="℃",s.appendChild(p),u.addEventListener("click",e().switchDegrees,!1);const h=n.main,g=document.createElement("div");g.setAttribute("id","resultsDiv"),h.appendChild(g);const C={location:document.createElement("h1"),temperature:document.createElement("h2"),description:document.createElement("span"),time:document.createElement("span"),minTemp:document.createElement("span"),maxTemp:document.createElement("span"),humidity:document.createElement("span")};for(let e in C)C[e].setAttribute("id",`${e}`),g.appendChild(C[e]);C.location.textContent="Use the search bar to look up weather in your area",i.addEventListener("click",(async function(){console.log(c.value);const t=await e().getWeather(c.value);console.log(t),C.location.textContent=t.name,C.temperature.textContent=e().convertTemp(t.main.temp),C.description.textContent=t.weather[0].description,C.time.textContent=e().getDate(t.dt),C.minTemp.textContent=`Low: ${e().convertTemp(t.main.temp_min)}`,C.maxTemp.textContent=`High: ${e().convertTemp(t.main.temp_max)}`,C.humidity.textContent=`Humidity: ${t.main.humidity}%`,h.setAttribute("class",e().getBackground(t.weather[0].main))}))})()})();